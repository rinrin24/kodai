# 基礎プログラミングおよび演習レポート ＃03
* 学籍番号: 2291029
* 氏名: 中村凜
* ペア学籍番号・氏名(または「個人作業」):個人作業
* 提出日付:

# [課題の再掲]
以下のプログラムを作れ。
* 数の配列を受け取り、その全ての値を 1 ずつ増やす。
* 数の配列を受け取り、正の要素だけ 1 ずつ増やす。
* 長さが偶数の配列を受け取り、前半と後半を入れ換える。
* 数の配列を受け取り、「小さい順」に並べる。

# [プログラム・実行例とその説明]
## sample6.rb
```Ruby
def absarray(a)
	b = a.dup
	b.each_index do |i|
		if b[i] < 0 then; b[i] = -b[i]; end
	end
	return b
end
def addOne(a)
	b = a.dup
	b.each_index do |i|
		b[i] += 1;
	end
	return b
end
def addOnePositive(a)
	b = a.dup
	b.each_index do |i|
		if b[i] > 0 then; b[i] += 1; end
	end
	return b
end
def swapArray(a)
	b = a.dup
	c = a.dup
	(b.length / 2).times do |i|
		c[i + b.length / 2] = b[i]
	end
	(b.length / 2).times do |i|
		c[i] = b[i + b.length / 2]
	end
	return c
end

A = [-1, 5, -4, 3, -9, 7]
p(absarray(A))
p(addOne(A))
p(addOnePositive(A))
p(swapArray(A))
```

## 実行結果
```
PS C:\Users\略\kodai\lesson2> ruby sample6.rb
[1, 5, 4, 3, 9, 7]
[0, 6, -3, 4, -8, 8]
[-1, 6, -4, 4, -9, 8]
[3, -9, 7, -1, 5, -4]
```

absarray(), addOne(), addOnePositive() メソッドでは配列を引数として受け取り、それぞれの要素に対して処理を行っている。

swapArray() メソッドでは受け取った配列を複製し、まず初めに半分よりあとに要素を代入し、そのご半分より前の部分に要素を代入して、その両方が代入された配列を戻り地として返している。

これらのメソッドではどれも処理の初めに
```Ruby
b = a.dup
```
という行が挿入されており、変数 a に対して直接操作を行うと、引数として渡した A とう変数(ここでは定数だが)に対しても変化が発生してしまうためだ(ここでは定数を引数として渡しているためにコンパイルエラーとなる)。

これはRubyにおいて引数がいわゆる参照型という形態を取っているためだ。Rubyが簡単に使いやすいように設計されたプログラミング言語であるためであろうが、参照型は可読性に難があり、他の言語ではあまり推奨されない。

# [課題に対する報告]
配列の要素を操作できるようになった。

# [考察]
もともとの配列を持つ A を定数にすることにより、参照渡しなどで変更があった場合もコンパイルエラーとして明示的に不具合を示すことができるようにした。

# [アンケート]
## Q1. 配列が使いこなせるようになりましたか。
配列は他の言語と仕様が比較的似ていたので使いこなせた。

## Q2. 疑似コードを書くのと、Rubyに直すのと、打ち込んで動かすのとで掛かった手間の比率を教えてください。
擬似コードを書かずに頭で思い浮かんだものを即座にプログラムに書き起こしているため、

0:7:2

程度だった。

## Q3. リフレクション(今回の課題で分かったこと)・感想・要望をどうぞ。
定数の表し方が他の言語のように const や final などの修飾子を定義の前に置かず、ただ最初のキャラクターを大文字にするだけという。

これは動的型付け言語であるために仕方ないことではあるが、変数の型や定数であるかを明示的に示すことができないことには未だに違和感がある

また、配列が標準で動的配列であることには驚いた。