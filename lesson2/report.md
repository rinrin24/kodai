# 基礎プログラミングおよび演習レポート ＃02
* 学籍番号: 2291029
* 氏名: 中村凜
* ペア学籍番号・氏名(または「個人作業」): 個人作業
* 提出日付: 2022/08/23

# [課題の再掲]
xとyの最大公約数を求めるメソッドgcd(x, y)を作れ。なお以下の法則を利用し、なぜそうなるかを説明せよ。
* x = y のとき、gcd(x, y) = x = y。
* x > y のとき、gcd(x, y) = gcd(x − y, y)。
* x < y のとき、gcd(x, y) = gcd(x, y − x)。

# [プログラム・実行例とその説明]
## sample5.rb
```ruby
def gcd(x, y)
	if (x == y) then; return x; end
	if (x > y) then; return gcd(x - y, y); end
	if (x < y) then; return gcd(x, y - x); end
end
puts(gcd(20, 6));
puts(gcd(50,74));
puts(gcd(111, 259));
```
## 実行結果
```
PS C:\Users\略\kodai\lesson2> ruby sample5.rb
2
2
37
```
このプログラムはgcd(x, y)という関数を呼び出したときにx == yがtrueならばxを返し、上の法則により、再びgcd()を呼び出す再帰処理を使っている。

## 法則の説明
二つの数の公約数をxとし、二つの数をそれぞれax, bxとする。(ax > bx)

すると差は(a-b)xとなる。

それと小さいほうの数(bx)を比較すると、差は|(a-2b)x|となる。

よってこのように差と比較すると、公約数は差がその前の小さい数と同じになるまでのこる。

そこで、差がその前の小さい数と同じになったところで、その前に二つの数を比較した方(差)はそれまでの公約数の集まりとなるため、それが最大公約数となる。

また、似たような法則としてユークリッドの互除法という法則があるが、こちらは2つの数字の差を取るのではなく大きい数字から小さい数字で割った時の余りを使うことにより、比較する数字の大きいほうの数が小さいほうの数の二倍以上だった場合に処理を短くできる。

| 実行回数 | 差を使った法則 | ユークリッドの互除法 |
| :------: | :------------: | :------------------: |
|    0     |    132, 54     |       132, 54        |
|    1     |     78, 54     |        54, 24        |
|    2     |     54, 24     |        24, 6         |
|    3     |     30, 24     |         6, 0         |
|    4     |     24, 6      |         end          |
|    5     |     18, 6      |                      |
|    6     |     12, 6      |                      |
|    7     |      6, 6      |                      |
|    8     |      6, 0      |                      |
|    9     |      end       |                      |

# [課題に対する報告]
gcd()というメソッドを使い、正しく最大公約数を求めることが可能になった。

# [考察]
再帰処理を使うことにより多くの条件分岐やループ処理を使わずにスマートな実装が可能となった。また、早期リターンの実装によって可読性の高いコードとなった。

# [アンケート]
## Q1. 枝分かれや繰り返しの動き方が納得できましたか?
よく理解でき、納得できた。既存の言語と書き方が異なっていたため少し苦労した。

特に一行でif文を簡潔に書くために色々模索した。

## Q2. 枝分かれと繰り返しのどっちが難しいですか? それはなぜ?
どちらともいえないが、枝分かれ処理はロジックが煩雑になる可能性が高いため、工夫が必要だと感じた。

繰り返し処理は難しいというかは、他の言語との仕様が異なっていたため苦労はした。forループの構文がこのようにこのように異なっていたのは驚いた。
```ruby
#ruby
for i in 0..n-1 do
	#処理内容
end
```
```C
//C
//前略
for(int i = 0; i < n; i++){
	//処理内容
}
```

## Q3. リフレクション(今回の課題で分かったこと)・感想・要望をどうぞ。
rubyでは基本的になんらかのブロック(条件分岐やループ)を中かっこで囲まず、doなどで始め、endで終わるという独特の構文には少し慣れが必要だと感じた。